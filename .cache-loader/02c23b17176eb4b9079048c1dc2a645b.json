{"remainingRequest":"/Users/zhangtengjin/Desktop/byai/topology/node_modules/thread-loader/dist/cjs.js??ref--6-oneOf-1-1!/Users/zhangtengjin/Desktop/byai/topology/node_modules/babel-loader/lib/index.js??ref--6-oneOf-1-2!/Users/zhangtengjin/Desktop/byai/topology/node_modules/eslint-loader/index.js??ref--5-0!/Users/zhangtengjin/Desktop/byai/topology/src/lib/components/template-wrapper/index.tsx","dependencies":[{"path":"/Users/zhangtengjin/Desktop/byai/topology/src/lib/components/template-wrapper/index.tsx","mtime":1647506177146},{"path":"/Users/zhangtengjin/Desktop/byai/topology/package.json","mtime":1647506605470},{"path":"/Users/zhangtengjin/Desktop/byai/topology/node_modules/cache-loader/dist/cjs.js","mtime":1645756501487},{"path":"/Users/zhangtengjin/Desktop/byai/topology/node_modules/thread-loader/dist/cjs.js","mtime":1645756504722},{"path":"/Users/zhangtengjin/Desktop/byai/topology/node_modules/babel-loader/lib/index.js","mtime":1641784542889},{"path":"/Users/zhangtengjin/Desktop/byai/topology/node_modules/eslint-loader/index.js","mtime":1643179601592}],"contextDependencies":[],"result":["import _classCallCheck from\"/Users/zhangtengjin/Desktop/byai/topology/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/zhangtengjin/Desktop/byai/topology/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/zhangtengjin/Desktop/byai/topology/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _possibleConstructorReturn from\"/Users/zhangtengjin/Desktop/byai/topology/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/zhangtengjin/Desktop/byai/topology/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){if(typeof Reflect===\"undefined\"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy===\"function\")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}import React from'react';import{DragSource}from'react-dnd';import{NodeTypes}from'../../declare';import'./index.less';var TemplateWrapper=/*#__PURE__*/function(_React$Component){_inherits(TemplateWrapper,_React$Component);var _super=_createSuper(TemplateWrapper);function TemplateWrapper(){_classCallCheck(this,TemplateWrapper);return _super.apply(this,arguments);}_createClass(TemplateWrapper,[{key:\"render\",value:function render(){var _this$props=this.props,connectDragSource=_this$props.connectDragSource,connectDragPreview=_this$props.connectDragPreview,children=_this$props.children;return connectDragSource(/*#__PURE__*/React.createElement(\"div\",{className:\"topology-template-wrapper\"},children,connectDragPreview(/*#__PURE__*/React.createElement(\"div\",{className:\"topology-template-preview\"}))));}}]);return TemplateWrapper;}(React.Component);export default DragSource(NodeTypes.TEMPLATE_NODE,{canDrag:function canDrag(props){return!props.disabled;},beginDrag:function beginDrag(props){return{data:props.generator()};}},function(connect){return{connectDragSource:connect.dragSource(),connectDragPreview:connect.dragPreview()};})(TemplateWrapper);",{"version":3,"sources":["/Users/zhangtengjin/Desktop/byai/topology/src/lib/components/template-wrapper/index.tsx"],"names":["React","DragSource","NodeTypes","TemplateWrapper","props","connectDragSource","connectDragPreview","children","Component","TEMPLATE_NODE","canDrag","disabled","beginDrag","data","generator","connect","dragSource","dragPreview"],"mappings":"g+CAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,UAAT,KAA+C,WAA/C,CACA,OAASC,SAAT,KAAyC,eAAzC,CACA,MAAO,cAAP,C,GASMC,CAAAA,e,sRACF,iBAAS,iBAKD,KAAKC,KALJ,CAEDC,iBAFC,aAEDA,iBAFC,CAGDC,kBAHC,aAGDA,kBAHC,CAIDC,QAJC,aAIDA,QAJC,CAOL,MAAOF,CAAAA,iBAAiB,cACpB,2BAAK,SAAS,CAAC,2BAAf,EACKE,QADL,CAEKD,kBAAkB,cAAC,2BAAK,SAAS,CAAC,2BAAf,EAAD,CAFvB,CADoB,CAAxB,CAMH,C,6BAdyBN,KAAK,CAACQ,S,EAiBpC,cAAeP,CAAAA,UAAU,CACrBC,SAAS,CAACO,aADW,CAErB,CACIC,OADJ,kBACYN,KADZ,CACmB,CACX,MAAO,CAACA,KAAK,CAACO,QAAd,CACH,CAHL,CAIIC,SAJJ,oBAIcR,KAJd,CAI4C,CACpC,MAAO,CAAES,IAAI,CAAET,KAAK,CAACU,SAAN,EAAR,CAAP,CACH,CANL,CAFqB,CAUrB,SAAAC,OAAO,QAAK,CACRV,iBAAiB,CAAEU,OAAO,CAACC,UAAR,EADX,CAERV,kBAAkB,CAAES,OAAO,CAACE,WAAR,EAFZ,CAAL,EAVc,CAAV,CAcbd,eAda,CAAf","sourcesContent":["import React from 'react';\nimport { DragSource, DragElementWrapper } from 'react-dnd';\nimport { NodeTypes, ITopologyNode } from '../../declare';\nimport './index.less';\n\nexport interface ITemplateWrapperProps {\n    generator: () => ITopologyNode;\n    connectDragSource?: DragElementWrapper<React.ReactNode>;\n    connectDragPreview?: DragElementWrapper<React.ReactNode>;\n    disabled?: boolean;\n}\n\nclass TemplateWrapper extends React.Component<ITemplateWrapperProps> {\n    render() {\n        const {\n            connectDragSource,\n            connectDragPreview,\n            children,\n        } = this.props;\n\n        return connectDragSource((\n            <div className=\"topology-template-wrapper\">\n                {children}\n                {connectDragPreview(<div className=\"topology-template-preview\" />)}\n            </div>\n        ));\n    }\n}\n\nexport default DragSource(\n    NodeTypes.TEMPLATE_NODE,\n    {\n        canDrag(props) {\n            return !props.disabled;\n        },\n        beginDrag(props: ITemplateWrapperProps) {\n            return { data: props.generator() };\n        },\n    },\n    connect => ({\n        connectDragSource: connect.dragSource(),\n        connectDragPreview: connect.dragPreview(),\n    }),\n)(TemplateWrapper);\n"]}]}